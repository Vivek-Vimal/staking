{"ast":null,"code":"import _asyncToGenerator from\"/home/vivek/Desktop/Bird/birdstake/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vivek/Desktop/Bird/birdstake/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/vivek/Desktop/Bird/birdstake/node_modules/@babel/runtime/regenerator/index.js\";import{useEffect,useState}from\"react\";import{useWallet,UseWalletProvider}from\"use-wallet\";import Web3 from\"web3\";import erc from'../pages/abi/erc20.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getShortWallet=function getShortWallet(address){return\"\".concat(address.substring(0,5),\".... \").concat(address.substring(address.length-5,address.length));};var getHandSomeNumber=function getHandSomeNumber(number){return(number/1e18).toFixed(2);};var Header=function Header(){var wallet=useWallet();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),balannce=_useState2[0],setbalannce=_useState2[1];var balance=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var web3,busdToken,balandce;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:web3=new Web3(Web3.givenProvider);busdToken=new web3.eth.Contract(erc,\"0x55d398326f99059fF775485246999027B3197955\");_context.next=4;return busdToken.methods.balanceOf(wallet.account).call();case 4:balandce=_context.sent;console.log(balandce);setbalannce(balandce/1e18);// return balannce;\ncase 7:case\"end\":return _context.stop();}}},_callee);}));return function balance(){return _ref.apply(this,arguments);};}();useEffect(function(){wallet.connect();},[]);useEffect(function(){if(wallet.status==\"connected\"){balance();}return function(){};},[wallet.status,wallet.account,wallet]);return/*#__PURE__*/_jsx(\"section\",{className:\"top_section_outer\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"nav-es navbar navbar-expand-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-header\",children:/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"https://birdstaking.com/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"logo.png\",alt:\"logo\",className:\"img-fluid\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"topbar-button\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ds-flex\",children:[wallet.account?/*#__PURE__*/_jsxs(\"div\",{className:\"ds-flex-col\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Wallet: \",getShortWallet(wallet.account)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"BUSD Balance: \",balannce]})]}):null,/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-a0 text-uppercase\",onClick:function onClick(){if(wallet.account){wallet.reset();}else{wallet.connect();}},children:wallet.account?\"Disconnect\":\"Connect\"})]})})})]})})});};export default Header;","map":{"version":3,"sources":["/home/vivek/Desktop/Bird/birdstake/src/components/Header.js"],"names":["useEffect","useState","useWallet","UseWalletProvider","Web3","erc","getShortWallet","address","substring","length","getHandSomeNumber","number","toFixed","Header","wallet","balannce","setbalannce","balance","web3","givenProvider","busdToken","eth","Contract","methods","balanceOf","account","call","balandce","console","log","connect","status","reset"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useWallet, UseWalletProvider } from \"use-wallet\";\nimport Web3 from \"web3\";\nimport erc from '../pages/abi/erc20.json';\n\nconst getShortWallet = (address) => {\n  return `${address.substring(0, 5)}.... ${address.substring(\n    address.length - 5,\n    address.length\n  )}`;\n};\n\nconst getHandSomeNumber = (number) => {\n  return (number / 1e18).toFixed(2);\n};\nconst Header = () => {\n  const wallet = useWallet();\n\n  const [balannce, setbalannce] = useState(0)\n  const balance = async () => {\n    const web3 = new Web3(Web3.givenProvider);\n    const busdToken = new web3.eth.Contract(erc, \"0x55d398326f99059fF775485246999027B3197955\");\n\n    const balandce = await busdToken.methods.balanceOf(wallet.account).call();\n    console.log(balandce);\n    setbalannce(balandce / 1e18);\n    // return balannce;\n  }\n\n  useEffect(() => {\n    wallet.connect();\n\n  }, [])\n\n  useEffect(() => {\n    if (wallet.status == \"connected\") {\n      balance()\n    }\n\n    return () => {\n\n    }\n  }, [wallet.status, wallet.account, wallet])\n\n\n  return (\n    <section className=\"top_section_outer\">\n      <nav className=\"nav-es navbar navbar-expand-lg\">\n        <div className=\"container-fluid\">\n          <div className=\"nav-header\">\n            <a className=\"navbar-brand\" href=\"https://birdstaking.com/\">\n              <img src=\"logo.png\" alt=\"logo\" className=\"img-fluid\" />\n            </a>\n          </div>\n          <div className=\"nav-right\">\n            <div className=\"topbar-button\">\n              <div className=\"ds-flex\">\n                {wallet.account ? (\n                  <div className=\"ds-flex-col\">\n                    <p>Wallet: {getShortWallet(wallet.account)}</p>\n                    <p>BUSD Balance: {balannce}</p>\n                  </div>\n                ) : null}\n                <button\n                  className=\"btn btn-a0 text-uppercase\"\n                  onClick={() => {\n                    if (wallet.account) {\n                      wallet.reset();\n                    } else {\n                      wallet.connect();\n                    }\n                  }}\n                >\n                  {wallet.account ? \"Disconnect\" : \"Connect\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </nav>\n    </section>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}